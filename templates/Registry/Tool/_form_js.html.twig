<script>
    $(document).ready(function(){
        var showDependents = function($el) {
            var val = $el.val()

            if(val === ''){
                $('#tool_country_name').attr('required', false).parent().hide()
                $('#tool_country_guarantees').attr('required', false).parent().hide()
            }

            if (val === 'registry.tool.label.country.france') {
                $('#tool_country_name').attr('required', false).parent().hide()
                $('#tool_country_guarantees').attr('required', false).parent().hide()
            }
            if (val === 'registry.tool.label.country.eu') {
                $('#tool_country_name').attr('required', false).parent().show()
                $('#tool_country_guarantees').attr('required', false).parent().hide()
            }
            if (val === 'registry.tool.label.country.other') {
                $('#tool_country_name').attr('required', false).parent().show()
                $('#tool_country_guarantees').attr('required', true).parent().show()
            }
        }

        $('#tool_country_type').on('change', function(e) {
            showDependents($(e.currentTarget))
        })

        showDependents($('#tool_country_type'))
    })

</script>
